<div ng-controller="quoteController" class="crre-table">
    <div class="row margin-top-20 vertical-spacing-twice">
        <div class="cell two margin-top-8 twelve-mobile">
            <div class="search-bar order-search-bar">
                <i class="search padding-5"></i>
                <input class="twelve"
                       type="text"
                       ng-model="query_name"
                       ng-keyup="$event.keyCode == 13 ? search(query_name, true) : null"
                       i18n-placeholder="search.filter.order"/>
            </div>
        </div>
    </div>
    <div class="flex-row">
        <table class="twelve">
            <thead>
            <tr>
                <td><div class="smallTabElem center"><i18n>crre.date</i18n></div></td>
                <td><div class="smallTabElem center"><i18n>crre.order.number</i18n></div></td>
                <td><div class="smallTabElem center"><i18n>crre.order.user</i18n></div></td>
                <td><div class="smallTabElem center"><i18n>crre.number.structure.concern</i18n></div></td>
                <td><div class="smallTabElem center"><i18n>crre.basket.file.sent</i18n></div></td>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="quote in quotes.all">
                <td><div class="smallTabElem center">[[quote.creation_date]]</div></td>
                <td><div class="smallTabElem center">[[quote.title]]</div></td>
                <td><div class="smallTabElem center">[[quote.owner_name]]</div></td>
                <td><div class="smallTabElem center">[[quote.nb_structures]]</div></td>
                <td>
                    <div class="smallTabElem center" ng-click="quote.generateCSV()">
                        <i class="attach-file" ></i>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <loader data-ng-show="loading" min-height="'250px'"></loader>
    <infinite-scroll scrolled="onScroll()" loading-mode="true"></infinite-scroll>
    <div ng-show="quotes.all.length === 0 && !loading" class="centered">
        <div class="twelve cell centered-text" >
            <h3><i18n>crre.info.empty.tab</i18n></h3>
        </div>
        <br/>
        <div class="twelve cell centered-text vertical-spacing">
            <img class="four" src="/crre/public/img/PageTableauVide.svg" />
        </div>
    </div>
    <section class="toggle-buttons" ng-hide="!displayToggle">
        <div class="toggle">
            <div class="row">
                <button ng-click="validateOrders()"><i18n>Validate</i18n></button>
                <button ng-click="openRefusingOrderLightbox()"><i18n>Denied</i18n></button>
                <button ng-click="exportCSV()"><i18n>crre.logs.csv.export</i18n></button>
            </div>
        </div>
    </section>
</div>

